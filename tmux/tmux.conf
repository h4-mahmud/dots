#  - When the colorscheme loads (or reloads), it will redefine many groups and may also redefine Navic* if the theme/plugin does so.
  # - Because you don’t reapply your links on ColorScheme, your settings often get overwritten by the theme.
  #
  # Net effect:
  #
  # - Your Navic* colors may appear to “not stick” or flip unexpectedly after theme load --- CORE SETTINGS ---
set -g default-terminal "tmux-256color"
set -as terminal-features ",xterm-256color:RGB,screen-256color:RGB,tmux-256color:RGB"
set -ag terminal-overrides ",*:Tc"
set -g mouse off
set -g base-index 1
set -g pane-base-index 1
set-option -g renumber-windows on
set -g escape-time 0
set -g status-interval 1
set -g status-position top
set -g status-justify left
set -g status-style "bg=default"

# --- PREFIX ---
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# --- QUICK BINDS ---
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -v -c "#{pane_current_path}"
bind r source-file ~/.config/tmux/tmux.conf \; display-message "󰑓 Config Reloaded!"

# --- THE COMPREHENSIVE WHICH-KEY SYSTEM ---

# 1. Main Menu Definition
# Map to Leader + ?
unbind ?
bind ? source-file ~/.config/tmux/which-key-main.tmux

# --- COPY MODE (VI) ---
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi r send-keys -X rectangle-toggle

# --- UI STYLING ---
set -g status-left-length 100
set -g status-left "#[fg=#2CCCFF,bold]  #S #[fg=#373760]│ "

setw -g window-status-separator "  "
setw -g window-status-format "#[fg=#4B4B83,bg=default] #I ✦ #W "
setw -g window-status-current-format "#[fg=#BD93F9,bg=default]#[fg=#141423,bg=#BD93F9,bold]  #I 󰫤 #W  #[fg=#BD93F9,bg=default]"

set -g status-right-length 150
set -g status-right "\
#{?client_prefix,#[fg=#FF5555],#[fg=#2CCCFF]} \
#[fg=#BD93F9] 󰔟 %I:%M %p   "

set -g pane-border-style "fg=#23233d"
set -g pane-active-border-style "fg=#BD93F9"
set -g menu-style "bg=#141423,fg=#F8F8F2"
set -g menu-selected-style "bg=#23233d,fg=#BD93F9"
set -g message-style "fg=#141423,bg=#FF5555,bold"
